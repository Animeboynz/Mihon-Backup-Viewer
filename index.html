<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="no-referrer" />
    <title>Manga Library</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" type="text/css" href="/styles.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,100..700,1,0" />
    <script src="https://cdn.jsdelivr.net/npm/long@5.2.3/umd/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/protobufjs@7.3.2/dist/protobuf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
  </head>

  <body>
    <div class="container">
      <div id="search">
        <span class="material-symbols-outlined search-icon">search</span
        ><input type="text" name="search" placeholder='search "exact expression" -exclude' disabled />
      </div>
      <div id="load-modal" class="modal">
        <div class="modal-content">
          <span class="gh-logo">
            <a href="https://github.com/Animeboynz/Mihon-Backup-Viewer" target="_blank" title="GitHub Project" alt="GitHub Icon">
              <object data="https://github.githubassets.com/favicons/favicon-dark.svg" type="image/svg+xml" height="24"></object>
            </a>
          </span>
          <h2>Load your .json, .tachibk or .proto.gz file</h2>
          <label for="fork-select"
            >Backup from:
            <select id="fork-select">
              <option value="mihon">Mihon / Tachiyomi</option>
              <option value="sy">TachiyomiSY</option>
              <option value="j2k">TachiyomiJ2K</option>
            </select>
          </label>
          <input type="file" id="file-input" accept=".json,.tachibk,.proto.gz" />
        </div>
      </div>
      <div class="settings-icon" id="settings-icon"><span class="material-symbols-outlined">settings</span></div>
      <div class="tabs" id="tabs">
        <!-- Tabs will be generated here -->
      </div>
      <div id="tab-contents">
        <!-- Tab contents will be generated here -->
      </div>
    </div>

    <div id="manga-modal" class="modal">
      <div class="modal-content">
        <span id="close-manga-modal" class="close-button">&times;</span>
        <div class="manga-header">
          <img id="manga-thumbnail" src="" alt="Manga Thumbnail" />
          <div class="manga-meta">
            <h1 id="manga-title"></h1>
            <p id="manga-author"></p>
            <p id="manga-artist"></p>
            <div class="status-source">
              <span id="manga-status"></span>
              &#x25CF;
              <span id="manga-source"></span>
            </div>
            <ul id="manga-categories"></ul>
          </div>
        </div>
        <div class="manga-body">
          <div id="manga-description-div">
            <p id="manga-description"></p>
            <span class="fade-out"><span class="material-symbols-outlined" id="description-expand-icon">keyboard_arrow_down</span></span>
          </div>
          <ul id="manga-genres"></ul>
        </div>
        <span class="material-symbols-outlined" id="chapters-sort-button">swap_vert</span>
        <div id="manga-chapters"></div>
      </div>
    </div>

    <div id="settings-modal" class="modal">
      <div class="modal-content">
        <span class="gh-logo">
          <a href="https://github.com/Animeboynz/Mihon-Backup-Viewer" target="_blank" title="GitHub Project" alt="GitHub Icon">
            <object data="https://github.githubassets.com/favicons/favicon-dark.svg" type="image/svg+xml" height="24"></object>
          </a>
        </span>
        <span id="close-settings-modal" class="close-button">&times;</span>
        <h2>Settings</h2>
        <button id="load-backup" class="settings-button">Load Backup</button>
        <div class="settings-inline">
          <label for="sort-order">Sort Order</label>
          <select id="sort-order">
            <option value="title-asc">Title (Asc.)</option>
            <option value="title-desc">Title (Desc.)</option>
            <option value="recently-updated">Recently Updated</option>
          </select>
        </div>
        <div class="settings-inline">
          <!-- <label for="highlight-tracker">Highlight Tracker</label>
          <label class="switch">
            <input type="checkbox" id="highlight-tracker" />
            <span class="slider"></span>
          </label> -->
        </div>
        <div class="settings-inline">
          <label for="filter-status">Filter by Status</label>
          <select multiple id="filter-status">
            <option value="-1">All Statuses</option>
            <option value="0">Unknown</option>
            <option value="1">Ongoing</option>
            <option value="2">Completed</option>
            <option value="3">Licensed</option>
            <option value="4">Publishing Finished</option>
            <option value="5">Cancelled</option>
            <option value="6">On Hiatus</option>
          </select>
        </div>
        <div class="settings-inline">
          <label for="filter-source">Filter by Source</label>
          <select multiple id="filter-source">
            <!-- Sources will be loaded here -->
          </select>
        </div>
        <div class="settings-inline">
          <label for="filter-tracked">Filter by Tracking</label>
          <select id="filter-tracked">
            <option value="all-entries">All Entries</option>
            <option value="tracked">Tracked</option>
            <option value="untracked">Untracked</option>
          </select>
        </div>
        <div class="settings-buttons-container">
          <button id="apply-settings" class="settings-button">Apply</button>
          <label>Download Backup</label
          ><span class="download-buttons">
            <button id="download-json" class="settings-button">JSON</button>
            <button id="download-tachibk" class="settings-button">.tachibk</button>
          </span>
        </div>
      </div>
    </div>

    <script type="module" src="scripts/script.js"></script>
  </body>
</html>
